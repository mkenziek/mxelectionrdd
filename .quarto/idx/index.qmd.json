{"title":"Final Project Research Design","markdown":{"yaml":{"title":"Final Project Research Design","author":"Makenzie Kerneckel","institute":"University of Pennsylvania","date":"last-modified","toc":true,"bibliography":"references.bib","format":{"html":{"self-contained":true}},"editor":"source"},"headingText":"I. Introduction","containsRefs":false,"markdown":"\n\n\nTurf wars for the control of drug trafficking corridors in Mexico have been associated with a lethal crisis of criminal violence in the country since the 1990s. After peaceful coexistence in the 1980s, six turf wars broke out between Mexico’s five major cartels (Tijuana, Juárez, Sinaloa, Gulf, and La Familia Michoacana) on the Pacific Coast between 1990 and 2006 [@trejo2018did]. Annual turf war deaths reached 1,400 in 2006 [@trejo2018did]. In 2006, the Felipe Calderón administration (2006-2012) began the first large-scale deployment of federal troops against the drug cartels, marking the beginning of the “Mexican War on Drugs” [@espinosa2015did]. To implement large-scale efforts to combat drug trafficking, the Calderón administration worked with PAN mayors and municipal police. The crackdowns on drug cartels under Calderón ushered in a dramatic spiral of violence [@trejo2018did]. Between 2007 and 2012, more than 70,000 people were murdered in intercartel conflicts [@trejo2018did]. For political context, Calderón was Mexico’s second National Action Party (PAN) president, continuing PAN’s control of the office after Vicente Fox’s electoral victory for PAN in 2000. Fox’s election as president represented the first opposition candidate to win the presidency of Mexico in recent history, ending the Institutional Revolutionary Party’s (PRI) hegemonic, 71-year-long rule [@trejo2018did]. The Institutional Revolutionary Party (PRI) has historically represented a center-right platform with a broad base of support, while the National Action Party (PAN) emerged as a conservative opposition advocating for free-market economics and social conservatism [@cfr2024]. Subsequently, President Enrique Peña Nieto (PRI) initiated reform efforts in 2012, which, although initially yielding decreases in homicides, ultimately fell short in tackling deep-rooted corruption and crime-related violence, culminating in a peak of 33,341 homicides in 2018 [@cfr2024]. In response to widespread criticism of militarized approaches, President Andrés Manuel López Obrador a left-wing candidate of the Morena party, upon assuming office in 2018, vowed to shift towards civilian-led policing; however, despite the implementation of initiatives like the creation of a new National Guard, violence levels have persistently remained high, amplifying the challenges in governance, security, and anti-corruption endeavors [@cfr2024]. Scholars have focused on identifying why intercartel violence in Mexico broke out in the early 2000s and estimating the causal effects of military interventions under Calderón on homicide rates in Mexico. According to [@trejo2018did], the rotation of political parties in state gubernatorial power in Mexico between 1991 and 2006 significantly contributed to the outbreak of intercartel violence and large-scale criminal wars. Their paper focused on analyzing the period from 1991 to 2006, prior to Calderón’s federal intervention. Trejo and Ley highlight the role of top- and mid-level officials’ removal from key state-level institutions, such as the state attorney’s office and the state judicial police, in disrupting informal protections for drug cartels previously provided under the one-party rule of the PRI. From its founding in 1929 to 1988, PRI had won every gubernatorial election in Mexico’s 31 states and nearly all municipal races. The study’s key finding reveals a 55.3% increase in violence in municipalities from states experiencing party alternation at the governor level compared to those under PRI hegemony, indicating a loss of cartel protection. Economic factors and organizational dynamics further strengthened this relationship. Further, time trend analysis suggests a surge in violence during the initial year of opposition governors, reflecting a disruption in government protection networks. Ultimately, Trejo and Ley’s “instability hypothesis” argues that when PRI lost power at the state level an informal network of cartel protection was thrown off leading to an outbreak of inter-cartel violence. Contrary to [@trejo2018did], Dell (2015) concentrates on the surge in violence following the Mexican government’s War on Drugs between 2007 and 2012, attributing the escalation to rival traffickers vying for territories after crackdowns initiated by PAN mayors, which diverted drug traffic and intensified violence along alternative routes. Dell’s “diversion hypothesis” posits that crackdowns in one area (i.e. PAN municipalities) lead to the diversion of drug activity and homicides to other regions without substantial reduction [@dell2015trafficking]. The key finding indicates that close PAN victories at the municipal level led to approximately 33 more drug trade-related homicides per 100,000 people annually during a mayor's three-year term [@dell2015trafficking]. This analysis examines whether the success of the PAN candidate in Mexican municipal elections correlates with an increase in the post-election municipal homicide rate per 100,000 people, examining variations influenced by the rotation of political parties in mayoral office and the stability of PAN mayoral governance. Drawing inspiration from Trejo and Ley (2018), the study challenges the conventional notion of a separation between government authorities and organized crime groups (OCGs), aiming to explore the \"gray zone\" where these entities intersect through informal protection systems [@trejo2018did]. Understanding how party alternation potentially disrupts state-criminal arrangements is crucial for grasping the broader dynamics of violence and governance in Mexico. Independent variables include the margin of victory for the PAN candidate, a municipal alternation index measuring party rotation, and a PAN power index gauging the stability of PAN mayoral terms. The dependent variable is the post-election municipal homicide rate per 100,000 people, encompassing all homicides, not just those related to inter-cartel conflicts. While prior research has provided valuable insights into the drivers of drug-related violence in Mexico, there remains a gap in understanding how political governance factors, particularly related to PAN governance stability and mayoral turnover, influence homicide rates at the municipal level after the war on drugs began in 2006 extending to 2020. There are two specific gaps that this paper seeks to address. First, earlier contributions, like Dell (2015), have focused exclusively on drug-related homicides which are defined as “any instance in which a civilian kills another civilian, with at least one of the parties involved in the drug trade\" [@dell2015trafficking]. This paper uses general homicide rates to include deaths beyond the drug-related homicide definition. For example, instances of those killed in armed clashes between police and organized criminals and the deaths of undocumented immigrants who were targeted by drug cartels for profit during the war on drugs. This paper sees overall homicide rates as a better measure of the intensity of violence that emerged following the declaration of the Mexican War on Drugs. Second, while Trejo and Ley (2018) focus on the impact of party alternation in gubernatorial power on violence between cartels, this paper focuses on the impact of party alternation in mayoral power on municipal homicide rates zooming in on a smaller unit of analysis. Lastly, this analysis aims to make an original contribution to the research base by exploring whether the length that the PAN party held a mayoral office impacted municipal homicide rates.\n\n# II. Data\n\nThe dataset utilized in this study comprises publicly available data from the National Institute of Statistics and Geography (INEGI), sourced from two GitHub repositories. The first repository aggregates homicide rate data spanning from 2000 to 2021, while the second repository provides election returns data compiled by Eric Magar, a professor of political science at Instituto Tecnológico Autónomo de México, covering the same period of time [@Magar_Recent_Mexican_Election_2018] [@mexico-homicide-rates]. Municipalities in Mexico serve as the unit of analysis for this research, encompassing the period from 2001 to 2020, with 2021 data omitted due to incomplete election cycles (i.e. the next election is not being held until June 2024). The independent variables selected for analysis include a Municipal Alternation Index, measuring the cumulative alternations in party power within municipalities over time; the PAN Power Index, quantifying the consecutive years of PAN governance at the municipal level; and Vote Margin, reflecting the margin of victory for PAN candidates in mayoral elections. Elections where the margin of victory falls between -0.05 and 0.05 are considered close elections. The dependent variable in this analysis is the Post-election Homicide Rate, denoting the average homicide rate per 100,000 people in the period following a municipal election. It is calculated for each municipality and election cycle, capturing the level of violence observed in the aftermath of local elections.\n\n```{r, message = FALSE, echo=FALSE, warning= FALSE}\n\n# load libraries \n\nlibrary(foreign)\nlibrary(magrittr)\nlibrary(rio)\nlibrary(ggplot2)\nlibrary(kableExtra)\nlibrary(dplyr)\nlibrary(tidyverse)\n\n\n\n# load data \n\nelection_returns <- read.csv(\"/Users/kenziekmac/Dropbox/Mac/Documents/GitHub/psci3200mk/Data/aymu1970-on.coalSplit.csv\")\n\nhomicide_rates <- readr::read_delim(\"/Users/kenziekmac/Dropbox/Mac/Documents/GitHub/psci3200mk/Data/mexico-muni-month-homicide-rates-2000-2021.csv\", delim = \"|\")\n\n\n# start data cleaning \n\n# have leading zeros so all municipal level identifiers are 5 digits\n\n#head(unique(homicide_rates$ent_mun))\n\n# does not have leading zeros \n\n#head(unique(election_returns$inegi))\n\n# let's add leading zeros to the election_returns data \n\n# Function to add leading zeros\n\nadd_leading_zeros <- function(x) {\n  ifelse(nchar(x) == 4, paste0(\"0\", x), as.character(x))\n}\n\n# Apply the function to the column\n\nelection_returns$inegi <- as.numeric(election_returns$inegi)\n\nelection_returns$inegi <- sapply(election_returns$inegi, add_leading_zeros) \n\n\nelection_returns %<>% rename( \"ent_mun\" = \"inegi\")\n  \n# Check for municipal codes present in df1 but not in df2\n\n# these are missing election returns/ newly created municipalities \n\nrecords_only_in_df1 <- anti_join(election_returns, homicide_rates, by = \"ent_mun\")\n\n# drop these municipalities since they don't have corresponding homicide rates \n\nent_mun_drops_er <- records_only_in_df1$ent_mun\n\n# 34,634 rows at start \n\nelection_returns %<>% filter(!is.na(ent_mun)) %>%\n                      filter(! ent_mun %in% ent_mun_drops_er)\n\n# 34,624 after, dropped 10 rows \n\n\n# Check for municipal codes present in df2 but not in df1\n\n# these are missing homicide rates\n\nrecords_only_in_df2 <- anti_join(homicide_rates, election_returns, by = \"ent_mun\")\n\n# drop these municipalities since they don't have corresponding election returns \n\nent_mun_drops_hr <- records_only_in_df2$ent_mun\n\n# 651,288 rows at start \n\nhomicide_rates %<>% filter(!is.na(ent_mun)) %>%\n  filter(! ent_mun %in% ent_mun_drops_hr)\n\n# 650,232 after, dropped 1056 rows\n\n \n\n# pick rows we need\n\nelection_returns %<>% select(-c(1,3,5,8)) \n\n# break election date into month and year so we can merge on these variables to match monthly homicide rates\n\nelection_returns$date<- as.character(election_returns$date)\n  \nelection_returns %<>% mutate( date = as.Date(election_returns$date, format = \"%Y%m%d\"),\n                              year = format(date, \"%Y\"),\n                              month = format(date, \"%m\"))\n\n# pick rows we need, again\n\nelection_returns %<>% select(-c(1,4))\n\n# filter years bc homicide data starts at 2000\n\nelection_returns %<>% filter(year >= 2000)\n\n# add leading zeros to homicide month col.\n\n\nadd_leading_zeros_2 <- function(x) {\n  ifelse(nchar(x) == 1, paste0(\"0\", x), as.character(x))\n}\n\n# Apply the function to the column\n\n\nhomicide_rates$month <- as.numeric(homicide_rates$month)\n\nhomicide_rates$month <- sapply(homicide_rates$month, add_leading_zeros_2) \n\n\n# v01, v02, … = raw vote for candidate 1, 2, etc.\n\n# l01, l02, … = label of candidate 1's, 2's, … party or coalition.\n\n# i want the data to have a col name pri_vote and show raw vote for pri candidate,\n# right now the raw vote and party are seperate columns \n\n# Fix candidate columns \n\nelection_returns %<>%\n  mutate_at(vars(starts_with(\"l\")), ~replace(., . == 0, NA)) %>%\n  mutate_at(vars(starts_with(\"l\")), as.character)\n\n\n\n\n         \n# For Loop to find the first and second place parties for each election  \n\n# Initialize lists to store results\nhighest_col <- vector(\"list\", length = nrow(election_returns))\nsecond_highest_col <- vector(\"list\", length = nrow(election_returns))\n\n# Loop through each row\nfor (i in 1:nrow(election_returns)) {\n  # Get the row values excluding non-numeric columns\n  row_values <- as.numeric(unlist(election_returns[i, grep(\"^v\", names(election_returns))]))\n  \n  # Find the index of the highest value\n  highest_index <- which.max(row_values)\n  \n  # Set the highest value to -Inf so it's excluded when finding the second highest\n  row_values[highest_index] <- -Inf\n  \n  # Find the index of the second highest value\n  second_highest_index <- which.max(row_values)\n  \n  # Get the column names corresponding to the highest and second-highest values\n  highest_col[[i]] <- names(election_returns)[grep(\"^v\", names(election_returns))][highest_index]\n  second_highest_col[[i]] <- names(election_returns)[grep(\"^v\", names(election_returns))][second_highest_index]\n}\n\n# Convert lists to character vectors\nhighest_col <- sapply(highest_col, function(x) ifelse(is.null(x), NA, x))\nsecond_highest_col <- sapply(second_highest_col, function(x) ifelse(is.null(x), NA, x))\n\n# Add the results to the original dataset\nelection_returns$highest_col <- highest_col\nelection_returns$second_highest_col <- second_highest_col\n\n\n# For Loop to Create Raw Votes Columns \n\n# Initialize a list to store selected columns\nselected_columns <- vector(\"list\", length = nrow(election_returns))\n\n# Loop through each row\nfor (i in 1:nrow(election_returns)) {\n  # Get the column names for the current row\n  highest_col_name <- election_returns$highest_col[i]\n  second_highest_col_name <- election_returns$second_highest_col[i]\n  \n  # Select columns based on the column names\n  first_place_raw_votes <- election_returns[[highest_col_name]][i]\n  second_place_raw_votes <- election_returns[[second_highest_col_name]][i]\n  \n  \n  # Combine the selected columns into a data frame\n  selected_columns[[i]] <- cbind(first_place_raw_votes, second_place_raw_votes)\n}\n\n# Convert the list to a data frame\nselected_raw_votes_df <- as.data.frame(do.call(rbind, selected_columns)) %>%\n                       cbind(election_returns[,c(1,2,55,59,58)]) %>%\n                       select(3,4,1,2,5,6,7)\n\n\n# For loop to create party columns \n\n# Initialize a list to store selected columns\nselected_columns <- vector(\"list\", length = nrow(election_returns))\n\n# Loop through each row\nfor (i in 1:nrow(election_returns)) {\n  # Get the party names for the current row\n  highest_col_party <- paste0(\"l\", substr(election_returns[i, \"highest_col\"], 2, 3))\n  second_highest_col_party <- paste0(\"l\", substr(election_returns[i, \"second_highest_col\"], 2, 3))\n  \n  # Select columns based on the party names\n  first_place_party <- election_returns[i, highest_col_party]\n  second_place_party <- election_returns[i, second_highest_col_party]\n  \n  # Combine the selected columns into a data frame\n  selected_columns[[i]] <- cbind(first_place_party, second_place_party)\n}\n\n# Convert the list to a data frame\nselected_parties_df <- as.data.frame(do.call(rbind, selected_columns))\n\n\nelection_returns_cleaned <- cbind(selected_raw_votes_df, selected_parties_df)\n\n\n```\n\n```{r, warning = FALSE, echo=FALSE}\n\n# Create Independent Variables \n\n\n# Independent Var. #1: municipal alternation index variable \n\n# convert year column to numeric \n\nelection_returns_cleaned$year <- as.numeric(election_returns_cleaned$year)\n\n\n# Function to count cumulative alternations in party power for each municipality and year\ncount_alternations <- function(data) {\n  # Check if there's only one party or no data\n  if (nrow(unique(data[, c(\"year\", \"first_place_party\")])) <= 1) {\n    return(rep(0, nrow(data)))\n  }\n  \n  # Initialize alternation score\n  alternation_score <- numeric(nrow(data))\n  \n  # Compute cumulative alternation score\n  for (i in 2:nrow(data)) {\n    if (!is.na(data$first_place_party[i]) && !is.na(data$first_place_party[i - 1]) &&\n        data$first_place_party[i] != data$first_place_party[i - 1]) {\n      alternation_score[i] <- alternation_score[i - 1] + 1\n    } else {\n      alternation_score[i] <- alternation_score[i - 1]\n    }\n  }\n  \n  return(alternation_score)\n}\n\n# Calculate cumulative alternation index for each municipality and year\nelection_returns_cleaned <- election_returns_cleaned %>%\n  group_by(ent_mun) %>%\n  mutate(alternation_index = count_alternations(cur_data())) %>%\n  ungroup()\n\n# Independent Var. #2: PAN power index\n\n# Function to count consecutive years in power for the pan party for each municipality\ncount_years_in_power <- function(data) {\n  # Initialize years in power count\n  years_in_power <- rep(0, nrow(data))\n  \n  # Compute consecutive years in power for the pan party\n  for (i in 1:nrow(data)) {\n    if (!is.na(data$first_place_party[i]) && data$first_place_party[i] == \"pan\") {\n      years_in_power[i] <- ifelse(i == 1, 1, years_in_power[i - 1] + 1)\n    }\n  }\n  \n  return(years_in_power)\n}\n\n# Calculate years in power index for the pan party for each municipality\n\nelection_returns_cleaned <- election_returns_cleaned %>%\n  group_by(ent_mun) %>%\n  mutate(pan_consec_yrs_in_pwr = count_years_in_power(cur_data())) %>%\n  ungroup()\n\n\n# # Dependent Variable Creation: Post-election homicide rates \n# \n# # This part of the code creates a function named calculate_post_election_avg. This function\n# # calculates the average homicide rate for a municipality in the period after an election and # before the next election (usally a 3 year period).\n# \n# \n# # join elections and homicide data \n# \n# elections_hom <- full_join(homicide_rates,election_returns_cleaned, by = c(\"ent_mun\", \"month\", \"year\")) %>%\n#                   filter( year >= 2001)\n# \n# \n# # Convert 'year' and 'month' to a Date object\n# \n# elections_hom$date <- as.Date(paste(elections_hom$year, elections_hom$month, \"01\", sep = \"-\"))\n# \n# # create election year binary variable \n# \n# elections_hom <- elections_hom %>%\n#   filter(date >= as.Date(\"2001-08-01\")) %>%\n#   mutate( election_year = ifelse(is.na(pan_consec_yrs_in_pwr), 0, 1)) \n# \n# \n# \n# # Define a function to calculate post-election average homicide rate\n# calculate_post_election_avg <- function(data, election_date, next_election_date, municipality) {\n#   post_election_data <- data %>%\n#     filter(ent_mun == municipality) %>%\n#     filter(date < as.Date(next_election_date)) %>%\n#     filter(date != as.Date(election_date))\n#   post_election_avg_rate <- mean(post_election_data$homicide_rate, na.rm = TRUE)\n#   return(post_election_avg_rate)\n# }\n# \n# # Initialize homicide rates \n# \n# post_election_avg_rates <- numeric(nrow(elections_hom))\n# \n# \n# for (i in 1:nrow(elections_hom)) {\n#   if (elections_hom$election_year[i] == 1) {\n#     election_date <- elections_hom$date[i]\n#     mun <- elections_hom$ent_mun[i]\n#     \n#     # Find the index of the next row where election_year == 1\n#     next_election_index <- which(elections_hom$election_year[(i+1):nrow(elections_hom)] == 1)[1] + i\n#     \n#     # Check if there's a next election date\n#     if (!is.na(next_election_index)) {\n#       next_election_date <- elections_hom$date[next_election_index]\n#       \n#       # Calculate post-election average rates\n#       post_election_avg_rates[i] <- calculate_post_election_avg(elections_hom, election_date, next_election_date, mun)\n#     }\n#   }\n# }\n# \n# \n# # Add the calculated post-election average homicide rates as a new column in the dataset\n# \n# elections_hom$post_election_avg_rate <- post_election_avg_rates\n# \n# # filter out 2021 since that was the most recent election year\n# \n# # filter to only election years with post-election homicide rates \n# \n# elections_hom  %<>% filter( election_year == 1, \n#                             year < 2021)\n\n# Writing data to a CSV file\n# write.csv(elections_hom, \"/Users/kenziekmac/Dropbox/Mac/Documents/GitHub/psci3200mk/Data/post_election_homicide_clean.csv\")\n\n# short cut to load cleaned file \n\nelections_hom <- read.csv(\"/Users/kenziekmac/Dropbox/Mac/Documents/GitHub/psci3200mk/Data/post_election_homicide_clean.csv\")\n\n# Potential Covariate: add variable that shows which presidency the election occurs during \n\n# Vicente Fox (2000-2006): National Action Party (PAN) to be elected in more than 70 years, ending the long-standing rule of the Institutional Revolutionary Party (PRI).\n\n# Felipe Calderón (2006-2012): National Action Party (PAN), succeeded Vicente Fox as president.\n\n# Enrique Peña Nieto (2012-2018): Institutional Revolutionary Party (PRI)\n\n# Andrés Manuel López Obrador (2018-Present): National Regeneration Movement (MORENA), marking the first time a leftist candidate has been elected president in Mexico's modern history.\n\n# presidential elections occurs in june in mexico\n\nelections_hom %<>%\n  mutate( president = ifelse(date < as.Date(\"2006-06-01\"), \"Fox (2000-2006, PAN)\",\n                      ifelse(( date > as.Date(\"2006-06-01\") & \n                      date < as.Date(\"2012-06-01\")), \"Calderón (2006-2012, PAN)\",\n                      ifelse(( date > as.Date(\"2012-06-01\") & \n                      date < as.Date(\"2018-06-01\")), \"Nieto (2012-2018, PRI)\",\n                                           \"Obrador (2018-Present, MORENA)\"))))\n\n\n# Independent Var. #3: Victory of the PAN (National Action Party) candidate variable \n\n\n# Filter rows where the first-place party is \"pri\" and the second-place party is \"pan\",\n# rename columns for clarity, and remove unnecessary columns\n\npri_winners <- elections_hom %>%\n  filter(first_place_party == \"pri\") %>%\n  filter(second_place_party == \"pan\") %>%\n  rename( \"pri_raw_votes\" = \"first_place_raw_votes\",\n          \"pan_raw_votes\" = \"second_place_raw_votes\") %>%\n  select(-c(first_place_party, second_place_party))\n\n\n\n# Filter rows where the first-place party is \"pan\" and the second-place party is \"pri\",\n# rename columns for clarity, and remove unnecessary columns\n\npan_winners <- elections_hom %>%\n  filter(first_place_party == \"pan\") %>%\n  filter(second_place_party == \"pri\") %>%\n  rename( \"pan_raw_votes\" = \"first_place_raw_votes\",\n          \"pri_raw_votes\" = \"second_place_raw_votes\") %>%\n  select(-c(first_place_party, second_place_party))\n\n# Combine datasets of PRI and PAN winners, calculate vote shares, margin of victory,\n# and filter for close elections (margin of victory within -0.05 and 0.05)\n# inspired by Dell 2015\n\npan_pri_close_elections <- rbind(pri_winners, pan_winners) %>%\n  mutate( pri_vote_share = pri_raw_votes/efec,\n          pan_vote_share = pan_raw_votes/efec)\n\n\n# create rd variables \n\n\npan_pri_close_elections$pan_won <- NA\n\npan_pri_close_elections$pan_won[pan_pri_close_elections$pan_vote_share > 0.5] <- 1\n\npan_pri_close_elections$pan_won[pan_pri_close_elections$pan_vote_share < 0.5] <- 0\n\npan_pri_close_elections$votemargin <- pan_pri_close_elections$pan_vote_share - .5\n\npan_pri_close_elections$f_x_win <- pan_pri_close_elections$votemargin * pan_pri_close_elections$pan_won\n\n```\n\n```{r, echo=FALSE}\n\n\n# Calculate mean and range for key variables\nsummary_stats <- elections_hom %>%\n                  summarise(mean_alternation = mean(alternation_index, na.rm = TRUE),\n                           range_alternation = paste0(round(min(alternation_index, na.rm = TRUE), 3), \"-\", round(max(alternation_index, na.rm = TRUE), 3)),\n            mean_pan_power = mean(pan_consec_yrs_in_pwr, na.rm = TRUE),\n            range_pan_power = paste0(round(min(pan_consec_yrs_in_pwr, na.rm = TRUE), 3), \"-\", round(max(pan_consec_yrs_in_pwr, na.rm = TRUE), 3)),\n            mean_homicide_rate = mean(post_election_avg_rate, na.rm = TRUE),\n            range_homicide_rate = paste0(round(min(post_election_avg_rate, na.rm = TRUE), 3), \"-\", round(max(post_election_avg_rate, na.rm = TRUE), 3)))\n\n# Calculate mean and range for key variables in pan_pri_close_elections\nsummary_stats_2 <- pan_pri_close_elections %>%\n  summarise(mean_vote_margin = mean(votemargin, na.rm = TRUE),\n            range_vote_margin = paste0(round(min(votemargin, na.rm = TRUE), 3), \"-\", round(max(votemargin, na.rm = TRUE), 3)))\n\n\n# Create a table\nsummary_table <- data.frame(\n  Variable = c(\"Municipal Alternation Index\", \"PAN Power Index\", \"Victory Margin (PAN Candidate)\", \"Post-election Homicide Rate\"),\n  Mean = c(summary_stats$mean_alternation, summary_stats$mean_pan_power, summary_stats_2$mean_vote_margin, summary_stats$mean_homicide_rate),\n  Range = c(summary_stats$range_alternation, summary_stats$range_pan_power, summary_stats_2$range_vote_margin, summary_stats$range_homicide_rate)\n)\n# Print the table\n\n# Create a nice table using kableExtra\nsummary_table %>%\n  kable(\"html\", align = c(\"l\", \"c\", \"c\"), caption = \"Summary of Key Variables\") %>%\n  kable_styling(full_width = FALSE) %>%\n  column_spec(1, bold = TRUE) %>%\n  column_spec(2:3, italic = TRUE)\n\n\n\n```\n\n*Table 1. Mean and ranges for independent and dependent variables.*\n\n```{r, warning=FALSE,echo=FALSE, message = FALSE}\n# Dell Inspired RDD Figure\naverage_homicide_rate<- pan_pri_close_elections %>%\n  mutate(`Party Won` = ifelse(votemargin < 0, \"PRI\", \"PAN\")) %>% \n  filter(!is.na(`Party Won`)) %>%\n  filter(votemargin >= -0.05 & votemargin <= 0.05) %>%\n  mutate(votemargin_bin = cut(votemargin, breaks = seq(-0.05, 0.05, by = 0.005))) %>%\n  group_by(votemargin_bin) %>%\n  summarise(mean_rate = mean(post_election_avg_rate, na.rm = TRUE))\n\n# Define the starting and ending points for the bins\nstart_point <- -0.05\nend_point <- 0.05\n\n# Define bin width\nbin_width <- 0.005\n\n# Calculate the lower boundary of each bin\nbin_lower <- seq(start_point, end_point - bin_width, by = bin_width)\n\n# Calculate the upper boundary of each bin\nbin_upper <- bin_lower + bin_width\n\n# Calculate the midpoint for each bin\nbin_midpoint <- (bin_lower + bin_upper) / 2\n\n\naverage_homicide_rate$x <- bin_midpoint\n\n# Plot\n\nggplot() +\n  geom_smooth(data = pan_pri_close_elections %>% filter(votemargin < 0) %>% filter(votemargin >= -0.05 & votemargin <= 0.05) , \n              aes(x = votemargin, y = homicide_rate), \n              color = \"black\",\n               method = \"lm\",\n              se = FALSE) +\n  geom_smooth(data = pan_pri_close_elections %>% filter(votemargin >= 0)%>% filter(votemargin >= -0.05 & votemargin <= 0.05) , \n              aes(x = votemargin, y = homicide_rate), \n              color = \"black\",\n               method = \"lm\",\n              se = FALSE) +\n  geom_point(data = average_homicide_rate, \n             aes(x = x, y = mean_rate), \n             alpha = 0.5) +\n    labs(title = \"Figure 1. Post-Election Municipal Homicide Rates in Mexico (2001-2020)\",\n       x = \"PAN margin of victory\",\n       y= \"Post-Election Homicide Rate per 100,000 Residents\",\n       caption = \"\") +\n   geom_vline(xintercept= 0, linetype=\"dashed\", alpha=.7, color = \"red\") +\n  theme_classic() +\n  theme(plot.title = element_text(hjust = 0.5),\n        plot.caption = element_text(hjust = 0))\n\n\n\n```\n\n*Figure 1. This figure plots homicide rates against the PAN margin of victory for 2001-2020, with a negative margin indicating a PAN loss. Each point represents the average value of the outcome in vote spread bins of width one-half of a percent-age point. The solid line plots predicted values, with separate quadratic vote spread trends estimated on either side of the PAN win-loss threshold.*\n\nFigure 1 examines post-election homicide rates against the PAN margin of victory across municipalities from 2001 to 2020, with a negative margin indicating a PAN loss. Each point represents average violence in 0.5 percentage point vote spread bins. The solid line plots predicted values from a regression of violence on the vote spread, estimated separately on either side of the PAN win-loss threshold. Across this large time frame, PAN victories has a small effect on the average drug-related homicide rate, increasing the rate by around 2 homicides per 100,000 people following a close PAN victory, as compared to a close PAN loss. Thus, the overall time trend weakly supports my hypothesis that municipalities with a PAN candidate victory in local elections will experience a higher post-election municipal homicide rate per 100,000 people compared to municipalities where PAN candidates lost.\n\n```{r, warning=FALSE,echo=FALSE, message = FALSE}\n\n# Dell Inspired RDD Figure\naverage_homicide_rate_pres<- pan_pri_close_elections %>%\n  mutate(`Party Won` = ifelse(votemargin < 0, \"PRI\", \"PAN\")) %>% \n  filter(!is.na(`Party Won`)) %>%\n  filter(votemargin >= -0.05 & votemargin <= 0.05) %>%\n  mutate(votemargin_bin = cut(votemargin, breaks = seq(-0.05, 0.05, by = 0.005))) %>%\n  group_by(votemargin_bin,president) %>%\n  summarise(mean_rate = mean(post_election_avg_rate, na.rm = TRUE)) %>%\n  arrange(president)\n\n# Define the starting and ending points for the bins\nstart_point <- -0.05\nend_point <- 0.05\n\n# Define bin width\nbin_width <- 0.005\n\n# Calculate the lower boundary of each bin\nbin_lower <- seq(start_point, end_point - bin_width, by = bin_width)\n\n# Calculate the upper boundary of each bin\nbin_upper <- bin_lower + bin_width\n\n# Calculate the midpoint for each bin\nbin_midpoint <- (bin_lower + bin_upper) / 2\n\n \nrepeated_list <- rep(bin_midpoint, times = 4)\n\n\naverage_homicide_rate_pres$x <- repeated_list\n\n# Plot\n\nggplot() +\n  geom_smooth(data = pan_pri_close_elections %>% filter(votemargin < 0) %>% filter(votemargin >= -0.05 & votemargin <= 0.05) , \n              aes(x = votemargin, y = homicide_rate), \n              color = \"black\",\n               method = \"lm\",\n              se= FALSE) +\n  geom_smooth(data = pan_pri_close_elections %>% filter(votemargin >= 0)%>% filter(votemargin >= -0.05 & votemargin <= 0.05) , \n              aes(x = votemargin, y = homicide_rate), \n              color = \"black\",\n               method = \"lm\",\n              se= FALSE) +\n  geom_point(data = average_homicide_rate_pres, \n             aes(x = x, y = mean_rate), \n             alpha = 0.5) +\n  facet_wrap(~president)+\n    labs(title = \"Figure 2. Post-Election Municipal Homicide Rates in Mexico\",\n       x = \"PAN margin of victory\",\n       y= \"Post-Election Homicide Rate per 100,000 Residents\",\n       subtitle = \"By President\") +\n   geom_vline(xintercept= 0, linetype=\"dashed\", alpha=.7, color = \"red\") +\n  theme_classic() +\n  theme(plot.title = element_text(hjust = 0.5),\n        plot.subtitle = element_text(hjust = 0.5))\n        \n```\n\n*Figure 2. This figure plots homicide rates against the PAN margin of victory for 2001-2020 by president, with a negative margin indicating a PAN loss. Each point represents the average value of the outcome in vote spread bins of width one-half of a percent-age point. The solid line plots predicted values, with separate quadratic vote spread trends estimated on either side of the PAN win-loss threshold.*\n\nFigure 2 examines post-election homicide rates against the PAN margin of victory across municipalities and presidencies, with a negative margin indicating a PAN loss. Each point represents average violence in 0.5 percentage point vote spread bins aggregated by president in office. The solid line plots predicted values from a regression of violence on the vote spread, estimated separately on either side of the PAN win-loss threshold. Breaking the regression discontinuity down by president reveals interesting trends. Figure 2 shows that while a PAN candidate was president, either when Vicente Fox or Felipe Calderón was in office from 2000-2012, PAN victories at the municipal level had a small negative effect on the average drug-related homicide rate, decreasing the rate by around 5 homicides per 100,000 people following a close PAN victory, as compared to a close PAN loss. This finding disproves my hypothesis showing that a PAN victory at the municipal level may have lead to a successful, although small in effect, crackdown on drug cartels and related homicidal violence. Furthermore, figure 2 shows that when a non-PAN candidate was in office municipalities with a PAN candidate victory in local elections experienced a much higher post-election municipal homicide rate per 100,000 people compared to municipalities where PAN candidates lost. Under president Nieto, a PRI candidate, and Obrador, a MORENA candidate, the post-election homicide rate increased by over 25 homicides per 100,000 people in municipalities with close PAN victories. Therefore, the evidence suggests that the relationship between PAN candidate victories and post-election homicide rates is more complex than initially hypothesized, with contextual factors such as presidential administration playing a significant role.\n\n# III. Research Design\n\nEmploying a regression discontinuity (RD) approach, this analysis leverages the abrupt change in party affiliation at the threshold between PAN victories and losses to estimate the impact on violence for the first and main hypothesis. This strategy capitalizes on close election outcomes to isolate idiosyncratic factors, ensuring robust analysis of the relationship between PAN victories and violence levels. Dell (2015) indicates that crackdowns initiated by PAN mayors have led to increased drug trade-related homicides at the municipal level. Therefore, it is plausible to expect that municipalities with PAN candidate victories will experience higher overall municipal homicide rates compared to municipalities where PAN candidates lost. We would expect overall homicides to increase due to the interconnected nature of criminal activities and the spillover effects of anti-drug efforts. When crackdowns occur, there is often an escalation of violence as criminal organizations resist these measures, potentially leading to higher levels of violence beyond just drug-related homicides. Moreover, as criminal groups involved in the drug trade diversify their activities to evade enforcement, they may engage in other forms of criminal behavior such as extortion and human trafficking, specifically of undocumented immigrants as previously mentioned, contributing to increased overall homicide rates. Therefore, it is plausible to expect that municipalities with PAN candidate victories, which may implement stricter anti-drug policies, could experience higher overall municipal homicide rates due to the ripple effects of anti-drug efforts on broader violence within communities.\n\n*Hypothesis 1 (H1): Municipalities with a PAN (National Action Party) candidate victory in local elections will experience a higher post-election municipal homicide rate per 100,000 people compared to municipalities where PAN candidates lost.*\n\nThe baseline regression model within a narrow window around the PAN win-loss threshold is outlined as:\n\n$$\nY_m = \\alpha_0 + \\alpha_1 \\text{PAN win}_m + \\alpha_2 \\text{PAN win}_m \\times \\text{spread}_m + \\alpha_3 (1 - \\text{PAN win}_m) \\times \\text{spread}_m + \\beta \\text{population}_m\n$$\n\nwhere Ym is the outcome of interest in municipality m. PAN_win is an indicator equal to 1 if the PAN candidate won the election, and spread_m is the margin of PAN victory.\n\nHere, alpha 1 represents the effect of the PAN party winning the election on the average homicide rate, alpha 2 captures the interaction effect between the PAN party winning and the margin of victory on the average homicide rate, and alpha 3 captures the interaction effect between not winning by the PAN party and the margin of victory on the average homicide rate. This model allows us to estimate the treatment effect of the PAN party winning the election on the average homicide rate, while accounting for the potential non-linear relationship between the margin of victory and the outcome by including interaction terms. Additionally, including population size as a control variable accounts for differences in the size of municipalities, which may affect the average homicide rate. Larger populations may have different crime rates compared to smaller populations due to factors such as urbanization, economic opportunities, and social dynamics.\n\nWhen hypothesizing a causal relationship between the PAN party winning the election and its effect on the average homicide rate, it's crucial to consider potential threats to interpreting the coefficient on this primary independent variable as an estimate of a causal effect on the outcome. One significant challenge is the presence of unobserved confounders, variables that are not included in the analysis but are correlated with both the independent variable (PAN party winning) and the outcome (average homicide rate). These unobserved confounders can bias the estimated causal effect if they are not properly accounted for. Examples of unobserved confounders that could threaten causal inference include historical trends in crime rates, poverty levels, and geography.\n\nAdditionally, endogeneity threatens causal inference due to bidirectional relationships between the PAN party winning and increases in municipal homicide rates. In this case, the stability of the PAN party itself could be endogenous to homicide rates within municipalities. For example, if high homicide rates persist over time, voters may continue to support the PAN party due to its perceived stance on law and order, leading to a spurious correlation between PAN victories and higher homicide rates. Moreover, political party stability can also affect policy decisions related to crime and violence. If the PAN party has a stable grip on power within a municipality, it may be better positioned to implement long-term policies and allocate resources towards crackdowns on drug cartels. However, if the party’s tenure in a municipality is uncertain, anti-cartel policy continuity may be disrupted, leading to inconsistencies in crime-fighting strategies, potentially influencing homicide rates.\n\n## Empirical Extensions\n\n*Hypothesis 2 (H2): Municipalities that experience a higher rotation of political parties in mayoral office will observe a higher post-election municipal homicide rate per 100,000 people compared to municipalities with stable party governance.*\n\nThe regression model for Hypothesis 2 (H2) is written as:\n\n$$\n\\text{Overall Homicide Rate}_i = \\alpha + \\beta_1{Party Alternation Index}_i + \\text{Control Variables}_i + \\epsilon_i\n$$\n\n*Hypothesis 3 (H3): Municipalities with a higher index of PAN power stability, indicating longer periods of PAN party governance, will exhibit a lower municipal homicide rate per 100,000 people compared to municipalities with lower PAN power stability.*\n\nThe regression model for Hypothesis 3 (H3) can be written as:\n\n$$\n\\text{Overall Homicide Rate}_i = \\alpha + \\beta_1{PAN Power Stability Index}_i + \\text{Control Variables}_i + \\epsilon_i\n$$\n\nHypotheses 2 (H2) and 3 (H3) provide empirical extensions that can help to rule out potential confounders of Hypothesis 1 regarding the causal relationship between PAN party victories and municipal homicide rates. H2 focuses on the rotation of political parties in mayoral office, drawing insights from Trejo and Ley (2018), who found that such rotations contributed to increased inter-cartel violence before the Mexican War on Drugs. By examining the impact of party rotation on homicide rates, H2 aims to differentiate between stable and unstable party governance at the municipal level. In contrast, H3 tests the opposite direction of Trejo and Ley's hypothesis by exploring the impact of PAN power stability, specifically examining longer periods of PAN governance, on homicide rates. H3 considers the potential stabilizing effect of prolonged PAN governance, which may lead to lower levels of violence due to the implementation of effective crime prevention strategies and establishment of stronger institutional frameworks. Therefore, while H2 focuses on the destabilizing effect of party alternation, H3 considers the potential stabilizing effect of prolonged PAN governance. Although they approach the concept of political stability from different angles, both hypotheses contribute to understanding how political party dynamics affect municipal homicide rates, offering complementary insights into the relationship between stability and violence and helping to mitigate potential confounding factors like political stability and instability.","srcMarkdownNoYaml":"\n\n# I. Introduction\n\nTurf wars for the control of drug trafficking corridors in Mexico have been associated with a lethal crisis of criminal violence in the country since the 1990s. After peaceful coexistence in the 1980s, six turf wars broke out between Mexico’s five major cartels (Tijuana, Juárez, Sinaloa, Gulf, and La Familia Michoacana) on the Pacific Coast between 1990 and 2006 [@trejo2018did]. Annual turf war deaths reached 1,400 in 2006 [@trejo2018did]. In 2006, the Felipe Calderón administration (2006-2012) began the first large-scale deployment of federal troops against the drug cartels, marking the beginning of the “Mexican War on Drugs” [@espinosa2015did]. To implement large-scale efforts to combat drug trafficking, the Calderón administration worked with PAN mayors and municipal police. The crackdowns on drug cartels under Calderón ushered in a dramatic spiral of violence [@trejo2018did]. Between 2007 and 2012, more than 70,000 people were murdered in intercartel conflicts [@trejo2018did]. For political context, Calderón was Mexico’s second National Action Party (PAN) president, continuing PAN’s control of the office after Vicente Fox’s electoral victory for PAN in 2000. Fox’s election as president represented the first opposition candidate to win the presidency of Mexico in recent history, ending the Institutional Revolutionary Party’s (PRI) hegemonic, 71-year-long rule [@trejo2018did]. The Institutional Revolutionary Party (PRI) has historically represented a center-right platform with a broad base of support, while the National Action Party (PAN) emerged as a conservative opposition advocating for free-market economics and social conservatism [@cfr2024]. Subsequently, President Enrique Peña Nieto (PRI) initiated reform efforts in 2012, which, although initially yielding decreases in homicides, ultimately fell short in tackling deep-rooted corruption and crime-related violence, culminating in a peak of 33,341 homicides in 2018 [@cfr2024]. In response to widespread criticism of militarized approaches, President Andrés Manuel López Obrador a left-wing candidate of the Morena party, upon assuming office in 2018, vowed to shift towards civilian-led policing; however, despite the implementation of initiatives like the creation of a new National Guard, violence levels have persistently remained high, amplifying the challenges in governance, security, and anti-corruption endeavors [@cfr2024]. Scholars have focused on identifying why intercartel violence in Mexico broke out in the early 2000s and estimating the causal effects of military interventions under Calderón on homicide rates in Mexico. According to [@trejo2018did], the rotation of political parties in state gubernatorial power in Mexico between 1991 and 2006 significantly contributed to the outbreak of intercartel violence and large-scale criminal wars. Their paper focused on analyzing the period from 1991 to 2006, prior to Calderón’s federal intervention. Trejo and Ley highlight the role of top- and mid-level officials’ removal from key state-level institutions, such as the state attorney’s office and the state judicial police, in disrupting informal protections for drug cartels previously provided under the one-party rule of the PRI. From its founding in 1929 to 1988, PRI had won every gubernatorial election in Mexico’s 31 states and nearly all municipal races. The study’s key finding reveals a 55.3% increase in violence in municipalities from states experiencing party alternation at the governor level compared to those under PRI hegemony, indicating a loss of cartel protection. Economic factors and organizational dynamics further strengthened this relationship. Further, time trend analysis suggests a surge in violence during the initial year of opposition governors, reflecting a disruption in government protection networks. Ultimately, Trejo and Ley’s “instability hypothesis” argues that when PRI lost power at the state level an informal network of cartel protection was thrown off leading to an outbreak of inter-cartel violence. Contrary to [@trejo2018did], Dell (2015) concentrates on the surge in violence following the Mexican government’s War on Drugs between 2007 and 2012, attributing the escalation to rival traffickers vying for territories after crackdowns initiated by PAN mayors, which diverted drug traffic and intensified violence along alternative routes. Dell’s “diversion hypothesis” posits that crackdowns in one area (i.e. PAN municipalities) lead to the diversion of drug activity and homicides to other regions without substantial reduction [@dell2015trafficking]. The key finding indicates that close PAN victories at the municipal level led to approximately 33 more drug trade-related homicides per 100,000 people annually during a mayor's three-year term [@dell2015trafficking]. This analysis examines whether the success of the PAN candidate in Mexican municipal elections correlates with an increase in the post-election municipal homicide rate per 100,000 people, examining variations influenced by the rotation of political parties in mayoral office and the stability of PAN mayoral governance. Drawing inspiration from Trejo and Ley (2018), the study challenges the conventional notion of a separation between government authorities and organized crime groups (OCGs), aiming to explore the \"gray zone\" where these entities intersect through informal protection systems [@trejo2018did]. Understanding how party alternation potentially disrupts state-criminal arrangements is crucial for grasping the broader dynamics of violence and governance in Mexico. Independent variables include the margin of victory for the PAN candidate, a municipal alternation index measuring party rotation, and a PAN power index gauging the stability of PAN mayoral terms. The dependent variable is the post-election municipal homicide rate per 100,000 people, encompassing all homicides, not just those related to inter-cartel conflicts. While prior research has provided valuable insights into the drivers of drug-related violence in Mexico, there remains a gap in understanding how political governance factors, particularly related to PAN governance stability and mayoral turnover, influence homicide rates at the municipal level after the war on drugs began in 2006 extending to 2020. There are two specific gaps that this paper seeks to address. First, earlier contributions, like Dell (2015), have focused exclusively on drug-related homicides which are defined as “any instance in which a civilian kills another civilian, with at least one of the parties involved in the drug trade\" [@dell2015trafficking]. This paper uses general homicide rates to include deaths beyond the drug-related homicide definition. For example, instances of those killed in armed clashes between police and organized criminals and the deaths of undocumented immigrants who were targeted by drug cartels for profit during the war on drugs. This paper sees overall homicide rates as a better measure of the intensity of violence that emerged following the declaration of the Mexican War on Drugs. Second, while Trejo and Ley (2018) focus on the impact of party alternation in gubernatorial power on violence between cartels, this paper focuses on the impact of party alternation in mayoral power on municipal homicide rates zooming in on a smaller unit of analysis. Lastly, this analysis aims to make an original contribution to the research base by exploring whether the length that the PAN party held a mayoral office impacted municipal homicide rates.\n\n# II. Data\n\nThe dataset utilized in this study comprises publicly available data from the National Institute of Statistics and Geography (INEGI), sourced from two GitHub repositories. The first repository aggregates homicide rate data spanning from 2000 to 2021, while the second repository provides election returns data compiled by Eric Magar, a professor of political science at Instituto Tecnológico Autónomo de México, covering the same period of time [@Magar_Recent_Mexican_Election_2018] [@mexico-homicide-rates]. Municipalities in Mexico serve as the unit of analysis for this research, encompassing the period from 2001 to 2020, with 2021 data omitted due to incomplete election cycles (i.e. the next election is not being held until June 2024). The independent variables selected for analysis include a Municipal Alternation Index, measuring the cumulative alternations in party power within municipalities over time; the PAN Power Index, quantifying the consecutive years of PAN governance at the municipal level; and Vote Margin, reflecting the margin of victory for PAN candidates in mayoral elections. Elections where the margin of victory falls between -0.05 and 0.05 are considered close elections. The dependent variable in this analysis is the Post-election Homicide Rate, denoting the average homicide rate per 100,000 people in the period following a municipal election. It is calculated for each municipality and election cycle, capturing the level of violence observed in the aftermath of local elections.\n\n```{r, message = FALSE, echo=FALSE, warning= FALSE}\n\n# load libraries \n\nlibrary(foreign)\nlibrary(magrittr)\nlibrary(rio)\nlibrary(ggplot2)\nlibrary(kableExtra)\nlibrary(dplyr)\nlibrary(tidyverse)\n\n\n\n# load data \n\nelection_returns <- read.csv(\"/Users/kenziekmac/Dropbox/Mac/Documents/GitHub/psci3200mk/Data/aymu1970-on.coalSplit.csv\")\n\nhomicide_rates <- readr::read_delim(\"/Users/kenziekmac/Dropbox/Mac/Documents/GitHub/psci3200mk/Data/mexico-muni-month-homicide-rates-2000-2021.csv\", delim = \"|\")\n\n\n# start data cleaning \n\n# have leading zeros so all municipal level identifiers are 5 digits\n\n#head(unique(homicide_rates$ent_mun))\n\n# does not have leading zeros \n\n#head(unique(election_returns$inegi))\n\n# let's add leading zeros to the election_returns data \n\n# Function to add leading zeros\n\nadd_leading_zeros <- function(x) {\n  ifelse(nchar(x) == 4, paste0(\"0\", x), as.character(x))\n}\n\n# Apply the function to the column\n\nelection_returns$inegi <- as.numeric(election_returns$inegi)\n\nelection_returns$inegi <- sapply(election_returns$inegi, add_leading_zeros) \n\n\nelection_returns %<>% rename( \"ent_mun\" = \"inegi\")\n  \n# Check for municipal codes present in df1 but not in df2\n\n# these are missing election returns/ newly created municipalities \n\nrecords_only_in_df1 <- anti_join(election_returns, homicide_rates, by = \"ent_mun\")\n\n# drop these municipalities since they don't have corresponding homicide rates \n\nent_mun_drops_er <- records_only_in_df1$ent_mun\n\n# 34,634 rows at start \n\nelection_returns %<>% filter(!is.na(ent_mun)) %>%\n                      filter(! ent_mun %in% ent_mun_drops_er)\n\n# 34,624 after, dropped 10 rows \n\n\n# Check for municipal codes present in df2 but not in df1\n\n# these are missing homicide rates\n\nrecords_only_in_df2 <- anti_join(homicide_rates, election_returns, by = \"ent_mun\")\n\n# drop these municipalities since they don't have corresponding election returns \n\nent_mun_drops_hr <- records_only_in_df2$ent_mun\n\n# 651,288 rows at start \n\nhomicide_rates %<>% filter(!is.na(ent_mun)) %>%\n  filter(! ent_mun %in% ent_mun_drops_hr)\n\n# 650,232 after, dropped 1056 rows\n\n \n\n# pick rows we need\n\nelection_returns %<>% select(-c(1,3,5,8)) \n\n# break election date into month and year so we can merge on these variables to match monthly homicide rates\n\nelection_returns$date<- as.character(election_returns$date)\n  \nelection_returns %<>% mutate( date = as.Date(election_returns$date, format = \"%Y%m%d\"),\n                              year = format(date, \"%Y\"),\n                              month = format(date, \"%m\"))\n\n# pick rows we need, again\n\nelection_returns %<>% select(-c(1,4))\n\n# filter years bc homicide data starts at 2000\n\nelection_returns %<>% filter(year >= 2000)\n\n# add leading zeros to homicide month col.\n\n\nadd_leading_zeros_2 <- function(x) {\n  ifelse(nchar(x) == 1, paste0(\"0\", x), as.character(x))\n}\n\n# Apply the function to the column\n\n\nhomicide_rates$month <- as.numeric(homicide_rates$month)\n\nhomicide_rates$month <- sapply(homicide_rates$month, add_leading_zeros_2) \n\n\n# v01, v02, … = raw vote for candidate 1, 2, etc.\n\n# l01, l02, … = label of candidate 1's, 2's, … party or coalition.\n\n# i want the data to have a col name pri_vote and show raw vote for pri candidate,\n# right now the raw vote and party are seperate columns \n\n# Fix candidate columns \n\nelection_returns %<>%\n  mutate_at(vars(starts_with(\"l\")), ~replace(., . == 0, NA)) %>%\n  mutate_at(vars(starts_with(\"l\")), as.character)\n\n\n\n\n         \n# For Loop to find the first and second place parties for each election  \n\n# Initialize lists to store results\nhighest_col <- vector(\"list\", length = nrow(election_returns))\nsecond_highest_col <- vector(\"list\", length = nrow(election_returns))\n\n# Loop through each row\nfor (i in 1:nrow(election_returns)) {\n  # Get the row values excluding non-numeric columns\n  row_values <- as.numeric(unlist(election_returns[i, grep(\"^v\", names(election_returns))]))\n  \n  # Find the index of the highest value\n  highest_index <- which.max(row_values)\n  \n  # Set the highest value to -Inf so it's excluded when finding the second highest\n  row_values[highest_index] <- -Inf\n  \n  # Find the index of the second highest value\n  second_highest_index <- which.max(row_values)\n  \n  # Get the column names corresponding to the highest and second-highest values\n  highest_col[[i]] <- names(election_returns)[grep(\"^v\", names(election_returns))][highest_index]\n  second_highest_col[[i]] <- names(election_returns)[grep(\"^v\", names(election_returns))][second_highest_index]\n}\n\n# Convert lists to character vectors\nhighest_col <- sapply(highest_col, function(x) ifelse(is.null(x), NA, x))\nsecond_highest_col <- sapply(second_highest_col, function(x) ifelse(is.null(x), NA, x))\n\n# Add the results to the original dataset\nelection_returns$highest_col <- highest_col\nelection_returns$second_highest_col <- second_highest_col\n\n\n# For Loop to Create Raw Votes Columns \n\n# Initialize a list to store selected columns\nselected_columns <- vector(\"list\", length = nrow(election_returns))\n\n# Loop through each row\nfor (i in 1:nrow(election_returns)) {\n  # Get the column names for the current row\n  highest_col_name <- election_returns$highest_col[i]\n  second_highest_col_name <- election_returns$second_highest_col[i]\n  \n  # Select columns based on the column names\n  first_place_raw_votes <- election_returns[[highest_col_name]][i]\n  second_place_raw_votes <- election_returns[[second_highest_col_name]][i]\n  \n  \n  # Combine the selected columns into a data frame\n  selected_columns[[i]] <- cbind(first_place_raw_votes, second_place_raw_votes)\n}\n\n# Convert the list to a data frame\nselected_raw_votes_df <- as.data.frame(do.call(rbind, selected_columns)) %>%\n                       cbind(election_returns[,c(1,2,55,59,58)]) %>%\n                       select(3,4,1,2,5,6,7)\n\n\n# For loop to create party columns \n\n# Initialize a list to store selected columns\nselected_columns <- vector(\"list\", length = nrow(election_returns))\n\n# Loop through each row\nfor (i in 1:nrow(election_returns)) {\n  # Get the party names for the current row\n  highest_col_party <- paste0(\"l\", substr(election_returns[i, \"highest_col\"], 2, 3))\n  second_highest_col_party <- paste0(\"l\", substr(election_returns[i, \"second_highest_col\"], 2, 3))\n  \n  # Select columns based on the party names\n  first_place_party <- election_returns[i, highest_col_party]\n  second_place_party <- election_returns[i, second_highest_col_party]\n  \n  # Combine the selected columns into a data frame\n  selected_columns[[i]] <- cbind(first_place_party, second_place_party)\n}\n\n# Convert the list to a data frame\nselected_parties_df <- as.data.frame(do.call(rbind, selected_columns))\n\n\nelection_returns_cleaned <- cbind(selected_raw_votes_df, selected_parties_df)\n\n\n```\n\n```{r, warning = FALSE, echo=FALSE}\n\n# Create Independent Variables \n\n\n# Independent Var. #1: municipal alternation index variable \n\n# convert year column to numeric \n\nelection_returns_cleaned$year <- as.numeric(election_returns_cleaned$year)\n\n\n# Function to count cumulative alternations in party power for each municipality and year\ncount_alternations <- function(data) {\n  # Check if there's only one party or no data\n  if (nrow(unique(data[, c(\"year\", \"first_place_party\")])) <= 1) {\n    return(rep(0, nrow(data)))\n  }\n  \n  # Initialize alternation score\n  alternation_score <- numeric(nrow(data))\n  \n  # Compute cumulative alternation score\n  for (i in 2:nrow(data)) {\n    if (!is.na(data$first_place_party[i]) && !is.na(data$first_place_party[i - 1]) &&\n        data$first_place_party[i] != data$first_place_party[i - 1]) {\n      alternation_score[i] <- alternation_score[i - 1] + 1\n    } else {\n      alternation_score[i] <- alternation_score[i - 1]\n    }\n  }\n  \n  return(alternation_score)\n}\n\n# Calculate cumulative alternation index for each municipality and year\nelection_returns_cleaned <- election_returns_cleaned %>%\n  group_by(ent_mun) %>%\n  mutate(alternation_index = count_alternations(cur_data())) %>%\n  ungroup()\n\n# Independent Var. #2: PAN power index\n\n# Function to count consecutive years in power for the pan party for each municipality\ncount_years_in_power <- function(data) {\n  # Initialize years in power count\n  years_in_power <- rep(0, nrow(data))\n  \n  # Compute consecutive years in power for the pan party\n  for (i in 1:nrow(data)) {\n    if (!is.na(data$first_place_party[i]) && data$first_place_party[i] == \"pan\") {\n      years_in_power[i] <- ifelse(i == 1, 1, years_in_power[i - 1] + 1)\n    }\n  }\n  \n  return(years_in_power)\n}\n\n# Calculate years in power index for the pan party for each municipality\n\nelection_returns_cleaned <- election_returns_cleaned %>%\n  group_by(ent_mun) %>%\n  mutate(pan_consec_yrs_in_pwr = count_years_in_power(cur_data())) %>%\n  ungroup()\n\n\n# # Dependent Variable Creation: Post-election homicide rates \n# \n# # This part of the code creates a function named calculate_post_election_avg. This function\n# # calculates the average homicide rate for a municipality in the period after an election and # before the next election (usally a 3 year period).\n# \n# \n# # join elections and homicide data \n# \n# elections_hom <- full_join(homicide_rates,election_returns_cleaned, by = c(\"ent_mun\", \"month\", \"year\")) %>%\n#                   filter( year >= 2001)\n# \n# \n# # Convert 'year' and 'month' to a Date object\n# \n# elections_hom$date <- as.Date(paste(elections_hom$year, elections_hom$month, \"01\", sep = \"-\"))\n# \n# # create election year binary variable \n# \n# elections_hom <- elections_hom %>%\n#   filter(date >= as.Date(\"2001-08-01\")) %>%\n#   mutate( election_year = ifelse(is.na(pan_consec_yrs_in_pwr), 0, 1)) \n# \n# \n# \n# # Define a function to calculate post-election average homicide rate\n# calculate_post_election_avg <- function(data, election_date, next_election_date, municipality) {\n#   post_election_data <- data %>%\n#     filter(ent_mun == municipality) %>%\n#     filter(date < as.Date(next_election_date)) %>%\n#     filter(date != as.Date(election_date))\n#   post_election_avg_rate <- mean(post_election_data$homicide_rate, na.rm = TRUE)\n#   return(post_election_avg_rate)\n# }\n# \n# # Initialize homicide rates \n# \n# post_election_avg_rates <- numeric(nrow(elections_hom))\n# \n# \n# for (i in 1:nrow(elections_hom)) {\n#   if (elections_hom$election_year[i] == 1) {\n#     election_date <- elections_hom$date[i]\n#     mun <- elections_hom$ent_mun[i]\n#     \n#     # Find the index of the next row where election_year == 1\n#     next_election_index <- which(elections_hom$election_year[(i+1):nrow(elections_hom)] == 1)[1] + i\n#     \n#     # Check if there's a next election date\n#     if (!is.na(next_election_index)) {\n#       next_election_date <- elections_hom$date[next_election_index]\n#       \n#       # Calculate post-election average rates\n#       post_election_avg_rates[i] <- calculate_post_election_avg(elections_hom, election_date, next_election_date, mun)\n#     }\n#   }\n# }\n# \n# \n# # Add the calculated post-election average homicide rates as a new column in the dataset\n# \n# elections_hom$post_election_avg_rate <- post_election_avg_rates\n# \n# # filter out 2021 since that was the most recent election year\n# \n# # filter to only election years with post-election homicide rates \n# \n# elections_hom  %<>% filter( election_year == 1, \n#                             year < 2021)\n\n# Writing data to a CSV file\n# write.csv(elections_hom, \"/Users/kenziekmac/Dropbox/Mac/Documents/GitHub/psci3200mk/Data/post_election_homicide_clean.csv\")\n\n# short cut to load cleaned file \n\nelections_hom <- read.csv(\"/Users/kenziekmac/Dropbox/Mac/Documents/GitHub/psci3200mk/Data/post_election_homicide_clean.csv\")\n\n# Potential Covariate: add variable that shows which presidency the election occurs during \n\n# Vicente Fox (2000-2006): National Action Party (PAN) to be elected in more than 70 years, ending the long-standing rule of the Institutional Revolutionary Party (PRI).\n\n# Felipe Calderón (2006-2012): National Action Party (PAN), succeeded Vicente Fox as president.\n\n# Enrique Peña Nieto (2012-2018): Institutional Revolutionary Party (PRI)\n\n# Andrés Manuel López Obrador (2018-Present): National Regeneration Movement (MORENA), marking the first time a leftist candidate has been elected president in Mexico's modern history.\n\n# presidential elections occurs in june in mexico\n\nelections_hom %<>%\n  mutate( president = ifelse(date < as.Date(\"2006-06-01\"), \"Fox (2000-2006, PAN)\",\n                      ifelse(( date > as.Date(\"2006-06-01\") & \n                      date < as.Date(\"2012-06-01\")), \"Calderón (2006-2012, PAN)\",\n                      ifelse(( date > as.Date(\"2012-06-01\") & \n                      date < as.Date(\"2018-06-01\")), \"Nieto (2012-2018, PRI)\",\n                                           \"Obrador (2018-Present, MORENA)\"))))\n\n\n# Independent Var. #3: Victory of the PAN (National Action Party) candidate variable \n\n\n# Filter rows where the first-place party is \"pri\" and the second-place party is \"pan\",\n# rename columns for clarity, and remove unnecessary columns\n\npri_winners <- elections_hom %>%\n  filter(first_place_party == \"pri\") %>%\n  filter(second_place_party == \"pan\") %>%\n  rename( \"pri_raw_votes\" = \"first_place_raw_votes\",\n          \"pan_raw_votes\" = \"second_place_raw_votes\") %>%\n  select(-c(first_place_party, second_place_party))\n\n\n\n# Filter rows where the first-place party is \"pan\" and the second-place party is \"pri\",\n# rename columns for clarity, and remove unnecessary columns\n\npan_winners <- elections_hom %>%\n  filter(first_place_party == \"pan\") %>%\n  filter(second_place_party == \"pri\") %>%\n  rename( \"pan_raw_votes\" = \"first_place_raw_votes\",\n          \"pri_raw_votes\" = \"second_place_raw_votes\") %>%\n  select(-c(first_place_party, second_place_party))\n\n# Combine datasets of PRI and PAN winners, calculate vote shares, margin of victory,\n# and filter for close elections (margin of victory within -0.05 and 0.05)\n# inspired by Dell 2015\n\npan_pri_close_elections <- rbind(pri_winners, pan_winners) %>%\n  mutate( pri_vote_share = pri_raw_votes/efec,\n          pan_vote_share = pan_raw_votes/efec)\n\n\n# create rd variables \n\n\npan_pri_close_elections$pan_won <- NA\n\npan_pri_close_elections$pan_won[pan_pri_close_elections$pan_vote_share > 0.5] <- 1\n\npan_pri_close_elections$pan_won[pan_pri_close_elections$pan_vote_share < 0.5] <- 0\n\npan_pri_close_elections$votemargin <- pan_pri_close_elections$pan_vote_share - .5\n\npan_pri_close_elections$f_x_win <- pan_pri_close_elections$votemargin * pan_pri_close_elections$pan_won\n\n```\n\n```{r, echo=FALSE}\n\n\n# Calculate mean and range for key variables\nsummary_stats <- elections_hom %>%\n                  summarise(mean_alternation = mean(alternation_index, na.rm = TRUE),\n                           range_alternation = paste0(round(min(alternation_index, na.rm = TRUE), 3), \"-\", round(max(alternation_index, na.rm = TRUE), 3)),\n            mean_pan_power = mean(pan_consec_yrs_in_pwr, na.rm = TRUE),\n            range_pan_power = paste0(round(min(pan_consec_yrs_in_pwr, na.rm = TRUE), 3), \"-\", round(max(pan_consec_yrs_in_pwr, na.rm = TRUE), 3)),\n            mean_homicide_rate = mean(post_election_avg_rate, na.rm = TRUE),\n            range_homicide_rate = paste0(round(min(post_election_avg_rate, na.rm = TRUE), 3), \"-\", round(max(post_election_avg_rate, na.rm = TRUE), 3)))\n\n# Calculate mean and range for key variables in pan_pri_close_elections\nsummary_stats_2 <- pan_pri_close_elections %>%\n  summarise(mean_vote_margin = mean(votemargin, na.rm = TRUE),\n            range_vote_margin = paste0(round(min(votemargin, na.rm = TRUE), 3), \"-\", round(max(votemargin, na.rm = TRUE), 3)))\n\n\n# Create a table\nsummary_table <- data.frame(\n  Variable = c(\"Municipal Alternation Index\", \"PAN Power Index\", \"Victory Margin (PAN Candidate)\", \"Post-election Homicide Rate\"),\n  Mean = c(summary_stats$mean_alternation, summary_stats$mean_pan_power, summary_stats_2$mean_vote_margin, summary_stats$mean_homicide_rate),\n  Range = c(summary_stats$range_alternation, summary_stats$range_pan_power, summary_stats_2$range_vote_margin, summary_stats$range_homicide_rate)\n)\n# Print the table\n\n# Create a nice table using kableExtra\nsummary_table %>%\n  kable(\"html\", align = c(\"l\", \"c\", \"c\"), caption = \"Summary of Key Variables\") %>%\n  kable_styling(full_width = FALSE) %>%\n  column_spec(1, bold = TRUE) %>%\n  column_spec(2:3, italic = TRUE)\n\n\n\n```\n\n*Table 1. Mean and ranges for independent and dependent variables.*\n\n```{r, warning=FALSE,echo=FALSE, message = FALSE}\n# Dell Inspired RDD Figure\naverage_homicide_rate<- pan_pri_close_elections %>%\n  mutate(`Party Won` = ifelse(votemargin < 0, \"PRI\", \"PAN\")) %>% \n  filter(!is.na(`Party Won`)) %>%\n  filter(votemargin >= -0.05 & votemargin <= 0.05) %>%\n  mutate(votemargin_bin = cut(votemargin, breaks = seq(-0.05, 0.05, by = 0.005))) %>%\n  group_by(votemargin_bin) %>%\n  summarise(mean_rate = mean(post_election_avg_rate, na.rm = TRUE))\n\n# Define the starting and ending points for the bins\nstart_point <- -0.05\nend_point <- 0.05\n\n# Define bin width\nbin_width <- 0.005\n\n# Calculate the lower boundary of each bin\nbin_lower <- seq(start_point, end_point - bin_width, by = bin_width)\n\n# Calculate the upper boundary of each bin\nbin_upper <- bin_lower + bin_width\n\n# Calculate the midpoint for each bin\nbin_midpoint <- (bin_lower + bin_upper) / 2\n\n\naverage_homicide_rate$x <- bin_midpoint\n\n# Plot\n\nggplot() +\n  geom_smooth(data = pan_pri_close_elections %>% filter(votemargin < 0) %>% filter(votemargin >= -0.05 & votemargin <= 0.05) , \n              aes(x = votemargin, y = homicide_rate), \n              color = \"black\",\n               method = \"lm\",\n              se = FALSE) +\n  geom_smooth(data = pan_pri_close_elections %>% filter(votemargin >= 0)%>% filter(votemargin >= -0.05 & votemargin <= 0.05) , \n              aes(x = votemargin, y = homicide_rate), \n              color = \"black\",\n               method = \"lm\",\n              se = FALSE) +\n  geom_point(data = average_homicide_rate, \n             aes(x = x, y = mean_rate), \n             alpha = 0.5) +\n    labs(title = \"Figure 1. Post-Election Municipal Homicide Rates in Mexico (2001-2020)\",\n       x = \"PAN margin of victory\",\n       y= \"Post-Election Homicide Rate per 100,000 Residents\",\n       caption = \"\") +\n   geom_vline(xintercept= 0, linetype=\"dashed\", alpha=.7, color = \"red\") +\n  theme_classic() +\n  theme(plot.title = element_text(hjust = 0.5),\n        plot.caption = element_text(hjust = 0))\n\n\n\n```\n\n*Figure 1. This figure plots homicide rates against the PAN margin of victory for 2001-2020, with a negative margin indicating a PAN loss. Each point represents the average value of the outcome in vote spread bins of width one-half of a percent-age point. The solid line plots predicted values, with separate quadratic vote spread trends estimated on either side of the PAN win-loss threshold.*\n\nFigure 1 examines post-election homicide rates against the PAN margin of victory across municipalities from 2001 to 2020, with a negative margin indicating a PAN loss. Each point represents average violence in 0.5 percentage point vote spread bins. The solid line plots predicted values from a regression of violence on the vote spread, estimated separately on either side of the PAN win-loss threshold. Across this large time frame, PAN victories has a small effect on the average drug-related homicide rate, increasing the rate by around 2 homicides per 100,000 people following a close PAN victory, as compared to a close PAN loss. Thus, the overall time trend weakly supports my hypothesis that municipalities with a PAN candidate victory in local elections will experience a higher post-election municipal homicide rate per 100,000 people compared to municipalities where PAN candidates lost.\n\n```{r, warning=FALSE,echo=FALSE, message = FALSE}\n\n# Dell Inspired RDD Figure\naverage_homicide_rate_pres<- pan_pri_close_elections %>%\n  mutate(`Party Won` = ifelse(votemargin < 0, \"PRI\", \"PAN\")) %>% \n  filter(!is.na(`Party Won`)) %>%\n  filter(votemargin >= -0.05 & votemargin <= 0.05) %>%\n  mutate(votemargin_bin = cut(votemargin, breaks = seq(-0.05, 0.05, by = 0.005))) %>%\n  group_by(votemargin_bin,president) %>%\n  summarise(mean_rate = mean(post_election_avg_rate, na.rm = TRUE)) %>%\n  arrange(president)\n\n# Define the starting and ending points for the bins\nstart_point <- -0.05\nend_point <- 0.05\n\n# Define bin width\nbin_width <- 0.005\n\n# Calculate the lower boundary of each bin\nbin_lower <- seq(start_point, end_point - bin_width, by = bin_width)\n\n# Calculate the upper boundary of each bin\nbin_upper <- bin_lower + bin_width\n\n# Calculate the midpoint for each bin\nbin_midpoint <- (bin_lower + bin_upper) / 2\n\n \nrepeated_list <- rep(bin_midpoint, times = 4)\n\n\naverage_homicide_rate_pres$x <- repeated_list\n\n# Plot\n\nggplot() +\n  geom_smooth(data = pan_pri_close_elections %>% filter(votemargin < 0) %>% filter(votemargin >= -0.05 & votemargin <= 0.05) , \n              aes(x = votemargin, y = homicide_rate), \n              color = \"black\",\n               method = \"lm\",\n              se= FALSE) +\n  geom_smooth(data = pan_pri_close_elections %>% filter(votemargin >= 0)%>% filter(votemargin >= -0.05 & votemargin <= 0.05) , \n              aes(x = votemargin, y = homicide_rate), \n              color = \"black\",\n               method = \"lm\",\n              se= FALSE) +\n  geom_point(data = average_homicide_rate_pres, \n             aes(x = x, y = mean_rate), \n             alpha = 0.5) +\n  facet_wrap(~president)+\n    labs(title = \"Figure 2. Post-Election Municipal Homicide Rates in Mexico\",\n       x = \"PAN margin of victory\",\n       y= \"Post-Election Homicide Rate per 100,000 Residents\",\n       subtitle = \"By President\") +\n   geom_vline(xintercept= 0, linetype=\"dashed\", alpha=.7, color = \"red\") +\n  theme_classic() +\n  theme(plot.title = element_text(hjust = 0.5),\n        plot.subtitle = element_text(hjust = 0.5))\n        \n```\n\n*Figure 2. This figure plots homicide rates against the PAN margin of victory for 2001-2020 by president, with a negative margin indicating a PAN loss. Each point represents the average value of the outcome in vote spread bins of width one-half of a percent-age point. The solid line plots predicted values, with separate quadratic vote spread trends estimated on either side of the PAN win-loss threshold.*\n\nFigure 2 examines post-election homicide rates against the PAN margin of victory across municipalities and presidencies, with a negative margin indicating a PAN loss. Each point represents average violence in 0.5 percentage point vote spread bins aggregated by president in office. The solid line plots predicted values from a regression of violence on the vote spread, estimated separately on either side of the PAN win-loss threshold. Breaking the regression discontinuity down by president reveals interesting trends. Figure 2 shows that while a PAN candidate was president, either when Vicente Fox or Felipe Calderón was in office from 2000-2012, PAN victories at the municipal level had a small negative effect on the average drug-related homicide rate, decreasing the rate by around 5 homicides per 100,000 people following a close PAN victory, as compared to a close PAN loss. This finding disproves my hypothesis showing that a PAN victory at the municipal level may have lead to a successful, although small in effect, crackdown on drug cartels and related homicidal violence. Furthermore, figure 2 shows that when a non-PAN candidate was in office municipalities with a PAN candidate victory in local elections experienced a much higher post-election municipal homicide rate per 100,000 people compared to municipalities where PAN candidates lost. Under president Nieto, a PRI candidate, and Obrador, a MORENA candidate, the post-election homicide rate increased by over 25 homicides per 100,000 people in municipalities with close PAN victories. Therefore, the evidence suggests that the relationship between PAN candidate victories and post-election homicide rates is more complex than initially hypothesized, with contextual factors such as presidential administration playing a significant role.\n\n# III. Research Design\n\nEmploying a regression discontinuity (RD) approach, this analysis leverages the abrupt change in party affiliation at the threshold between PAN victories and losses to estimate the impact on violence for the first and main hypothesis. This strategy capitalizes on close election outcomes to isolate idiosyncratic factors, ensuring robust analysis of the relationship between PAN victories and violence levels. Dell (2015) indicates that crackdowns initiated by PAN mayors have led to increased drug trade-related homicides at the municipal level. Therefore, it is plausible to expect that municipalities with PAN candidate victories will experience higher overall municipal homicide rates compared to municipalities where PAN candidates lost. We would expect overall homicides to increase due to the interconnected nature of criminal activities and the spillover effects of anti-drug efforts. When crackdowns occur, there is often an escalation of violence as criminal organizations resist these measures, potentially leading to higher levels of violence beyond just drug-related homicides. Moreover, as criminal groups involved in the drug trade diversify their activities to evade enforcement, they may engage in other forms of criminal behavior such as extortion and human trafficking, specifically of undocumented immigrants as previously mentioned, contributing to increased overall homicide rates. Therefore, it is plausible to expect that municipalities with PAN candidate victories, which may implement stricter anti-drug policies, could experience higher overall municipal homicide rates due to the ripple effects of anti-drug efforts on broader violence within communities.\n\n*Hypothesis 1 (H1): Municipalities with a PAN (National Action Party) candidate victory in local elections will experience a higher post-election municipal homicide rate per 100,000 people compared to municipalities where PAN candidates lost.*\n\nThe baseline regression model within a narrow window around the PAN win-loss threshold is outlined as:\n\n$$\nY_m = \\alpha_0 + \\alpha_1 \\text{PAN win}_m + \\alpha_2 \\text{PAN win}_m \\times \\text{spread}_m + \\alpha_3 (1 - \\text{PAN win}_m) \\times \\text{spread}_m + \\beta \\text{population}_m\n$$\n\nwhere Ym is the outcome of interest in municipality m. PAN_win is an indicator equal to 1 if the PAN candidate won the election, and spread_m is the margin of PAN victory.\n\nHere, alpha 1 represents the effect of the PAN party winning the election on the average homicide rate, alpha 2 captures the interaction effect between the PAN party winning and the margin of victory on the average homicide rate, and alpha 3 captures the interaction effect between not winning by the PAN party and the margin of victory on the average homicide rate. This model allows us to estimate the treatment effect of the PAN party winning the election on the average homicide rate, while accounting for the potential non-linear relationship between the margin of victory and the outcome by including interaction terms. Additionally, including population size as a control variable accounts for differences in the size of municipalities, which may affect the average homicide rate. Larger populations may have different crime rates compared to smaller populations due to factors such as urbanization, economic opportunities, and social dynamics.\n\nWhen hypothesizing a causal relationship between the PAN party winning the election and its effect on the average homicide rate, it's crucial to consider potential threats to interpreting the coefficient on this primary independent variable as an estimate of a causal effect on the outcome. One significant challenge is the presence of unobserved confounders, variables that are not included in the analysis but are correlated with both the independent variable (PAN party winning) and the outcome (average homicide rate). These unobserved confounders can bias the estimated causal effect if they are not properly accounted for. Examples of unobserved confounders that could threaten causal inference include historical trends in crime rates, poverty levels, and geography.\n\nAdditionally, endogeneity threatens causal inference due to bidirectional relationships between the PAN party winning and increases in municipal homicide rates. In this case, the stability of the PAN party itself could be endogenous to homicide rates within municipalities. For example, if high homicide rates persist over time, voters may continue to support the PAN party due to its perceived stance on law and order, leading to a spurious correlation between PAN victories and higher homicide rates. Moreover, political party stability can also affect policy decisions related to crime and violence. If the PAN party has a stable grip on power within a municipality, it may be better positioned to implement long-term policies and allocate resources towards crackdowns on drug cartels. However, if the party’s tenure in a municipality is uncertain, anti-cartel policy continuity may be disrupted, leading to inconsistencies in crime-fighting strategies, potentially influencing homicide rates.\n\n## Empirical Extensions\n\n*Hypothesis 2 (H2): Municipalities that experience a higher rotation of political parties in mayoral office will observe a higher post-election municipal homicide rate per 100,000 people compared to municipalities with stable party governance.*\n\nThe regression model for Hypothesis 2 (H2) is written as:\n\n$$\n\\text{Overall Homicide Rate}_i = \\alpha + \\beta_1{Party Alternation Index}_i + \\text{Control Variables}_i + \\epsilon_i\n$$\n\n*Hypothesis 3 (H3): Municipalities with a higher index of PAN power stability, indicating longer periods of PAN party governance, will exhibit a lower municipal homicide rate per 100,000 people compared to municipalities with lower PAN power stability.*\n\nThe regression model for Hypothesis 3 (H3) can be written as:\n\n$$\n\\text{Overall Homicide Rate}_i = \\alpha + \\beta_1{PAN Power Stability Index}_i + \\text{Control Variables}_i + \\epsilon_i\n$$\n\nHypotheses 2 (H2) and 3 (H3) provide empirical extensions that can help to rule out potential confounders of Hypothesis 1 regarding the causal relationship between PAN party victories and municipal homicide rates. H2 focuses on the rotation of political parties in mayoral office, drawing insights from Trejo and Ley (2018), who found that such rotations contributed to increased inter-cartel violence before the Mexican War on Drugs. By examining the impact of party rotation on homicide rates, H2 aims to differentiate between stable and unstable party governance at the municipal level. In contrast, H3 tests the opposite direction of Trejo and Ley's hypothesis by exploring the impact of PAN power stability, specifically examining longer periods of PAN governance, on homicide rates. H3 considers the potential stabilizing effect of prolonged PAN governance, which may lead to lower levels of violence due to the implementation of effective crime prevention strategies and establishment of stronger institutional frameworks. Therefore, while H2 focuses on the destabilizing effect of party alternation, H3 considers the potential stabilizing effect of prolonged PAN governance. Although they approach the concept of political stability from different angles, both hypotheses contribute to understanding how political party dynamics affect municipal homicide rates, offering complementary insights into the relationship between stability and violence and helping to mitigate potential confounding factors like political stability and instability."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"self-contained":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","editor":"source","theme":"cosmo","title":"Final Project Research Design","author":"Makenzie Kerneckel","institute":"University of Pennsylvania","date":"last-modified","bibliography":["references.bib"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}